<h2 align="center">
    <a href="https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin">
    üéì Faculty of Information Technology (DaiNam University)
    </a>
</h2>
<h2 align="center">
   NETWORK PROGRAMMING
</h2>
<div align="center">
    <p align="center">
        <img src="docs/aiotlab_logo.png" alt="AIoTLab Logo" width="170"/>
        <img src="docs/fitdnu_logo.png" alt="FIT DNU Logo" width="180"/>
        <img src="docs/dnu_logo.png" alt="DaiNam University Logo" width="200"/>
    </p>

[![AIoTLab](https://img.shields.io/badge/AIoTLab-green?style=for-the-badge)](https://www.facebook.com/DNUAIoTLab)
[![Faculty of Information Technology](https://img.shields.io/badge/Faculty%20of%20Information%20Technology-blue?style=for-the-badge)](https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin)
[![DaiNam University](https://img.shields.io/badge/DaiNam%20University-orange?style=for-the-badge)](https://dainam.edu.vn)

</div>


<h1 align="center">H·ªÜ TH·ªêNG ƒê·∫∂T V√â XEM PHIM</h1>

# üìñ 1. Gi·ªõi thi·ªáu
H·ªá th·ªëng **Cinema Booking** l√† m·ªôt gi·∫£i ph√°p ph·∫ßn m·ªÅm hi·ªán ƒë·∫°i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ ng∆∞·ªùi d√πng ƒë·∫∑t v√© xem phim th√¥ng qua m√¥ h√¨nh **m√°y kh√°ch ‚Äì m√°y ch·ªß**. ·ª®ng d·ª•ng cung c·∫•p ch·ª©c nƒÉng qu·∫£n l√Ω su·∫•t chi·∫øu, gh·∫ø ng·ªìi, combo b·∫Øp n∆∞·ªõc, khuy·∫øn m√£i v√† t·∫°o v√© ƒëi·ªán t·ª≠ c√≥ m√£ QR ti·ªán l·ª£i.  

ƒê·ªÅ t√†i t·∫≠p trung x√¢y d·ª±ng m·ªôt h·ªá th·ªëng ƒë·∫∑t v√© theo ki·∫øn tr√∫c client-server, trong ƒë√≥:  
- **M√°y ch·ªß (Server)** ch·ªãu tr√°ch nhi·ªám x·ª≠ l√Ω logic nghi·ªáp v·ª•, k·∫øt n·ªëi v√† qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu MySQL.  
- **M√°y kh√°ch (Client)** cung c·∫•p giao di·ªán ƒë·ªì h·ªça tr·ª±c quan, gi√∫p ng∆∞·ªùi d√πng thao t√°c ƒë·∫∑t v√© d·ªÖ d√†ng.  

üìä **T√†i li·ªáu ti√™u ƒë·ªÅ**  
- X√¢y d·ª±ng h·ªá th·ªëng ƒë·∫∑t v√© xem phim theo m√¥ h√¨nh client-server  
- Tri·ªÉn khai giao th·ª©c TCP cho vi·ªác truy·ªÅn th√¥ng tin ƒë·∫∑t v√© ƒë√°ng tin c·∫≠y  
- Ph√°t tri·ªÉn giao di·ªán ng∆∞·ªùi d√πng b·∫±ng Java Swing  
- K·∫øt n·ªëi c∆° s·ªü d·ªØ li·ªáu MySQL ƒë·ªÉ l∆∞u tr·ªØ th√¥ng tin phim, su·∫•t chi·∫øu, gh·∫ø, ƒë∆°n ƒë·∫∑t v√† khuy·∫øn m√£i  
- ƒê·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu v·ªõi kh√≥a ngo·∫°i v√† r√†ng bu·ªôc quan h·ªá  
- H·ªó tr·ª£ khuy·∫øn m√£i, combo b·∫Øp n∆∞·ªõc v√† QR Code x√°c nh·∫≠n v√©  


# üîß 2. C√¥ng ngh·ªá s·ª≠ d·ª•ng: [![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white)](https://www.java.com/)

## üåê Ng√¥n Ng·ªØ L·∫≠p Tr√¨nh  
- **Java SE 17+**: N·ªÅn t·∫£ng ch√≠nh  
- **T√≠nh nƒÉng**: H∆∞·ªõng ƒë·ªëi t∆∞·ª£ng, ƒëa lu·ªìng, k·∫øt n·ªëi m·∫°ng  
- **·ª®ng d·ª•ng**: Vi·∫øt to√†n b·ªô client, server v√† business logic  

## üé® Giao Di·ªán Ng∆∞·ªùi D√πng  
- **Java Swing**: Th∆∞ vi·ªán GUI cho ·ª©ng d·ª•ng desktop  
- **JFrame**: Container ch√≠nh cho c√°c c·ª≠a s·ªï (Login, Movie List, Trailer‚Ä¶)  
- **JPanel**: Qu·∫£n l√Ω b·ªë c·ª•c hi·ªÉn th·ªã phim, gh·∫ø, thanh to√°n  
- **Th√†nh ph·∫ßn Swing**: `JButton`, `JTable`, `JTextField`, `JPasswordField`‚Ä¶  
- **X·ª≠ l√Ω s·ª± ki·ªán**: `ActionListener`, `MouseListener` ƒë·ªÉ b·∫Øt thao t√°c ng∆∞·ªùi d√πng  

## üåê Truy·ªÅn Th√¥ng M·∫°ng  
- **Giao th·ª©c TCP/IP**: ƒê·∫£m b·∫£o truy·ªÅn th√¥ng tin ƒë·∫∑t v√© ·ªïn ƒë·ªãnh  
- **L·∫≠p tr√¨nh Socket**: S·ª≠ d·ª•ng `Socket` v√† `ServerSocket` trong Java  
- **Port**: 12345 cho k·∫øt n·ªëi client-server  
- **Lu·ªìng ƒë·ªëi t∆∞·ª£ng**: `ObjectInputStream` / `ObjectOutputStream` ƒë·ªÉ trao ƒë·ªïi d·ªØ li·ªáu  

## üóÑÔ∏è C∆° S·ªü D·ªØ Li·ªáu  
- **MySQL 8+**: H·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu  
- **Tr√¨nh ƒëi·ªÅu khi·ªÉn JDBC**: `mysql-connector-java`  
- **L∆∞·ª£c ƒë·ªì c∆° s·ªü d·ªØ li·ªáu**: Qu·∫£n l√Ω b·∫£ng `Users`, `Shows`, `Bookings`, `Combos`, `Promotions`  
- **C√°c thao t√°c SQL**: `SELECT`, `INSERT`, `UPDATE`, `DELETE` k√®m r√†ng bu·ªôc `FOREIGN KEY` v√† `UNIQUE` ƒë·ªÉ ngƒÉn tr√πng gh·∫ø  

## üîÑ X·ª≠ L√Ω ƒêa Lu·ªìng  
- **Java Multithreading**: Cho ph√©p nhi·ªÅu client ƒë·∫∑t v√© c√πng l√∫c  
- **Thread**: M·ªói k·∫øt n·ªëi client ƒë∆∞·ª£c x·ª≠ l√Ω b·ªüi m·ªôt lu·ªìng ri√™ng tr√™n server  
- **ƒê·ªìng b·ªô h√≥a**: ƒê·∫£m b·∫£o tr√°nh xung ƒë·ªôt d·ªØ li·ªáu khi nhi·ªÅu ng∆∞·ªùi c√πng ƒë·∫∑t m·ªôt su·∫•t chi·∫øu  



# üñºÔ∏è 3. H√¨nh ·∫£nh ch·ª©c nƒÉng 

> B·∫°n c√≥ th·ªÉ thay ·∫£nh th·∫≠t c·ªßa project v√†o th∆∞ m·ª•c `docs` v·ªõi ƒë√∫ng t√™n file ho·∫∑c s·ª≠a ƒë∆∞·ªùng d·∫´n b√™n d∆∞·ªõi.

1. **ƒêƒÉng nh·∫≠p**
   - Ng∆∞·ªùi d√πng nh·∫≠p email + m·∫≠t kh·∫©u.
   - Ki·ªÉm tra th√¥ng tin trong b·∫£ng `Users`.
   - N·∫øu h·ª£p l·ªá ‚Üí chuy·ªÉn sang giao di·ªán ƒë·∫∑t v√©.

<p align="center">
  <img src="docs/login.png" alt="Login Demo">
  <br>
  <em>H√¨nh 1: Giao di·ªán ƒêƒÉng nh·∫≠p</em>
</p>

2. **Danh s√°ch phim & su·∫•t chi·∫øu**
   - Hi·ªÉn th·ªã poster, trailer (c·ª≠a s·ªï t·ª´ `TrailerWindow.java`).
   - Ng∆∞·ªùi d√πng ch·ªçn phim, ch·ªçn gi·ªù chi·∫øu.

<p align="center">
  <img src="docs/movies.png" alt="Movie List">
  <br>
  <em>H√¨nh 2: Giao di·ªán Danh s√°ch & su·∫•t chi·∫øu</em>
</p>

3. **ƒê·∫∑t v√© & ch·ªçn gh·∫ø**
   - Hi·ªÉn th·ªã s∆° ƒë·ªì gh·∫ø theo `total_rows` v√† `total_cols` trong b·∫£ng `Shows`.
   - Gh·∫ø ƒë√£ ƒë·∫∑t hi·ªÉn th·ªã m√†u kh√°c, kh√¥ng ch·ªçn ƒë∆∞·ª£c.
   - Cho ph√©p ch·ªçn nhi·ªÅu gh·∫ø c√πng l√∫c (v√≠ d·ª•: F6, F1).

<p align="center">
  <img src="docs/seats.png" alt="Seat Selection">
  <br>
  <em>H√¨nh 3: Giao di·ªán ƒê·∫∑t v√© & ch·ªçn gh·∫ø</em>
</p>

4. **Thanh to√°n**
   - T·ªïng h·ª£p th√¥ng tin: phim, su·∫•t, gh·∫ø, combo, khuy·∫øn m√£i.
   - Sinh **QR Code** (s·ª≠ d·ª•ng `QRCodeUtil.java`).
   - L∆∞u d·ªØ li·ªáu v√†o MySQL (`Bookings`, `OrderCombos`, `BookingPromos`).

<p align="center">
  <img src="docs/payment.png" alt="Payment">
  <br>
  <em>H√¨nh 4: Giao di·ªán Thanh to√°n</em>
</p>


#üõ†Ô∏è 4. C√°c b∆∞·ªõc c√†i ƒë·∫∑t

##4.1. C√†i ƒë·∫∑t m√¥i tr∆∞·ªùng
Tr∆∞·ªõc khi ch·∫°y ch∆∞∆°ng tr√¨nh, c·∫ßn chu·∫©n b·ªã c√°c c√¥ng c·ª• sau:
- C√†i ƒë·∫∑t **JDK 8+**: [Download Java](https://www.oracle.com/java/technologies/javase-downloads.html)  
- C√†i ƒë·∫∑t **MySQL Server** (khuy·∫øn ngh·ªã b·∫£n **8.0+**): [Download MySQL](https://dev.mysql.com/downloads/)  
- C√†i ƒë·∫∑t **Git** (n·∫øu ch∆∞a c√≥): [Download Git](https://git-scm.com/downloads)  
- IDE khuy·∫øn ngh·ªã: **IntelliJ IDEA** ho·∫∑c **Eclipse**  
- Th√™m **MySQL Connector/J** (JDBC Driver) v√†o **classpath** c·ªßa project: [Download Connector/J](https://dev.mysql.com/downloads/connector/j/)


## 4.2. Clone source code
M·ªü **Terminal / CMD** v√† ch·∫°y:

git clone https://github.com/your-repo/cinema-booking-system.git
cd cinema-booking-system

## 4.3. Kh·ªüi t·∫°o c∆° s·ªü d·ªØ li·ªáu MySQL

M·ªü **MySQL Workbench** ho·∫∑c CLI v√† ch·∫°y:

```sql
CREATE DATABASE IF NOT EXISTS cinema
  CHARACTER SET utf8mb4
  COLLATE utf8mb4_unicode_ci;
USE cinema;

-- B·∫£ng ng∆∞·ªùi d√πng
CREATE TABLE IF NOT EXISTS Users (
    email VARCHAR(100) PRIMARY KEY,
    password VARCHAR(100) NOT NULL,
    fullname VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- B·∫£ng su·∫•t chi·∫øu
CREATE TABLE IF NOT EXISTS Shows (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    showtime DATETIME NOT NULL,
    total_rows INT NOT NULL,
    total_cols INT NOT NULL,
    poster VARCHAR(255),
    trailer VARCHAR(255)
);

-- B·∫£ng ƒë·∫∑t gh·∫ø
CREATE TABLE IF NOT EXISTS Bookings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    showId INT NOT NULL,
    email VARCHAR(100) NOT NULL,
    seat_row VARCHAR(5) NOT NULL, -- l∆∞u A, B, C...
    seat_col INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (showId) REFERENCES Shows(id) ON DELETE CASCADE,
    FOREIGN KEY (email) REFERENCES Users(email) ON DELETE CASCADE,
    UNIQUE KEY uq_bookings_seat (showId, seat_row, seat_col)
);

-- B·∫£ng combo b·∫Øp n∆∞·ªõc
CREATE TABLE IF NOT EXISTS Combos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    price INT NOT NULL
);

-- B·∫£ng order combo
CREATE TABLE IF NOT EXISTS OrderCombos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    showId INT NOT NULL,
    email VARCHAR(100) NOT NULL,
    comboId INT NOT NULL,
    quantity INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (showId) REFERENCES Shows(id) ON DELETE CASCADE,
    FOREIGN KEY (email) REFERENCES Users(email) ON DELETE CASCADE,
    FOREIGN KEY (comboId) REFERENCES Combos(id) ON DELETE CASCADE
);

-- B·∫£ng khuy·∫øn m√£i
CREATE TABLE IF NOT EXISTS Promotions (
    code VARCHAR(50) PRIMARY KEY,
    discount INT NOT NULL CHECK (discount BETWEEN 0 AND 100),
    expiry DATE NOT NULL
);

-- Li√™n k·∫øt booking v·ªõi m√£ khuy·∫øn m√£i
CREATE TABLE IF NOT EXISTS BookingPromos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    showId INT NOT NULL,
    email VARCHAR(100) NOT NULL,
    promoCode VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (showId) REFERENCES Shows(id) ON DELETE CASCADE,
    FOREIGN KEY (email) REFERENCES Users(email) ON DELETE CASCADE,
    FOREIGN KEY (promoCode) REFERENCES Promotions(code) ON DELETE CASCADE
);

-- D·ªØ li·ªáu m·∫´u
INSERT INTO Users(email, password, fullname)
VALUES ('ngoc@gmail.com', '123456', 'NgocDay')
ON DUPLICATE KEY UPDATE fullname=VALUES(fullname);

INSERT INTO Shows(title, showtime, total_rows, total_cols, poster, trailer) VALUES
('Kh·∫ø ∆Ø·ªõc B√°n D√¢u', '2025-09-27 19:00:00', 6, 9,
 'https://files.betacorp.vn/media%2fimages%2f2025%2f08%2f01%2f400x633-094149-010825-91.jpg',
 'https://www.youtube.com/embed/eFV2eSaDsp4?si=WoJRZzGSnXoJWx0p&controls=0'),
('M∆∞a ƒê·ªè', '2025-09-22 20:00:00', 6, 10,
 'https://files.betacorp.vn/media%2fimages%2f2025%2f08%2f22%2f400x633-8-181310-220825-58.jpg',
 'https://www.youtube.com/embed/RZRb5K2aK4E?si=3ryjWqnLZa1BRzxp&controls=0');

INSERT INTO Combos(name, price) VALUES
('Combo 1 B·∫Øp + 1 N∆∞·ªõc', 60000),
('Combo 2 B·∫Øp + 2 N∆∞·ªõc', 110000),
('Combo Family (3 B·∫Øp + 3 N∆∞·ªõc)', 150000);

INSERT INTO Promotions(code, discount, expiry) VALUES
('KM10', 10, '2025-12-31'),
('KM20', 20, '2025-12-31');
```

---

## 4.4. C·∫•u h√¨nh k·∫øt n·ªëi JDBC

M·ªü file `MovieServer.java` v√† c·∫≠p nh·∫≠t c·∫•u h√¨nh:

```java
String url = "jdbc:mysql://localhost:3306/cinema?useUnicode=true&characterEncoding=utf8";
String user = "root";          // thay b·∫±ng user MySQL c·ªßa b·∫°n
String password = "your_password"; // thay b·∫±ng m·∫≠t kh·∫©u MySQL
```

**Gi·∫£i th√≠ch nhanh:**

* `url`: ƒë·ªãa ch·ªâ DB (m·∫∑c ƒë·ªãnh `localhost:3306`, DB name `cinema`).
* `user`: t√†i kho·∫£n MySQL (th∆∞·ªùng l√† `root`).
* `password`: m·∫≠t kh·∫©u MySQL c·ªßa b·∫°n.

---

## 4.5. Ch·∫°y ch∆∞∆°ng tr√¨nh

#### Ch·∫°y Server

1. M·ªü file `MovieServer.java`.
2. Run ch∆∞∆°ng tr√¨nh ‚Üí server kh·ªüi ƒë·ªông, l·∫Øng nghe k·∫øt n·ªëi.

#### Ch·∫°y Client

1. M·ªü file `MovieClient.java`.
2. Run ch∆∞∆°ng tr√¨nh ‚Üí giao di·ªán ƒë·∫∑t v√© hi·ªÉn th·ªã.
3. ƒêƒÉng nh·∫≠p test:

   * **Email:** `ngoc@gmail.com`
   * **Password:** `123456`

---

## 4.6. Ki·ªÉm tra ƒë·∫∑t v√© & x·ª≠ l√Ω l·ªói

* Khi ch·ªçn nhi·ªÅu gh·∫ø nh∆∞ `F6, F1`, l∆∞u th√†nh nhi·ªÅu b·∫£n ghi:

```sql
INSERT INTO Bookings(showId, email, seat_row, seat_col) VALUES
(:showId, :email, 'F', 6),
(:showId, :email, 'F', 1);
```

* N·∫øu g·∫∑p l·ªói **`Duplicate entry`** t·∫°i kh√≥a `uq_bookings_seat` ‚Üí gh·∫ø ƒë√£ c√≥ ng∆∞·ªùi ƒë·∫∑t.
  ‚Üí Hi·ªÉn th·ªã th√¥ng b√°o ƒë·ªÉ ng∆∞·ªùi d√πng ch·ªçn gh·∫ø kh√°c.


# üìû 5. Li√™n h·ªá  

N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ th·∫Øc m·∫Øc ho·∫∑c c·∫ßn h·ªó tr·ª£ v·ªÅ d·ª± √°n **Cinema Booking**, vui l√≤ng li√™n h·ªá:  

- üë®‚Äçüéì **Sinh vi√™n th·ª±c hi·ªán**: Ph·∫°m Th·ªã H·ªìng Ng·ªçc 
- üéì **Khoa**: C√¥ng ngh·ªá th√¥ng tin ‚Äì ƒê·∫°i h·ªçc ƒê·∫°i Nam  
- üìß **Email**: pthn2488@gmail.com

















